<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<polymer-element name="dirvo-dialog"  constructor="ModalDialog" attributes="isOpen caption">
<template>
  <style>
      /* styles for the custom element itself - lowest specificity */
      :host { 
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        background-color: rgba(0,0,0,0.8);
        position: absolute;
        visibility: hidden;
      } 
      
      #lightbox { 
        display: block;
        position: relative;
        background: #fefefe;
        vertical-align: center;
        top: 50%;
        left: 50%;
        margin: -166px 0 0 -166px;
        width: 300px;
        height: 300px;
      };
  </style>
    <div id="lightbox"> 
      <div id="caption">{{caption}}</div>
      <div id="content"></div>  
      <p><a id="closeButton" on-click={{closeButtonClicked}} class="btn btn-lg btn-success">Splendid!</a></p>
    </div>
    
  </template>
  <script>
  Polymer('dirvo-dialog', {
      isOpen: true,
      
      ready: function() {
          this.$.content.innerHTML = this.innerHTML;
      },    
        
      isOpenChanged: function(oldVal, newVal) {
        if (newVal)
          this.style.visibility = 'visible';
         else
          this.style.visibility = 'hidden';
      },

      closeButtonClicked: function() {
        this.isOpen = false;
      },

      // instance of the element is created
      created: function() { },
      // instance was inserted into the document
      enteredView: function() { },
      // instance was removed from the document
      leftView: function() { 
      },
      // attribute added, removed or updated
      attributeChanged: function(attrName, oldVal, newVal) { },
    });
  </script>
</polymer-element>